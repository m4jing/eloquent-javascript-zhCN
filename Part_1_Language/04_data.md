# 第四章、数据结构：对象和数组

![chapter_picture_4][chapter_picture_4]

数值、布尔值和字符串，是构建数据结构的原子。而很多种信息都需要不止一种原子。*对象* 可以把值 —— 包括其他对象 —— 组合在一起，构成更复杂的结构。

目前我们创建的程序都限于只能对简单的数据类型进行操作。本章将介绍基本的数据结构。本章结束后，你会有足够的知识开始写有用的程序。

本章将完成一个几乎是实际的编程例子，在适当的时候引入相应概念。示例代码在前文中引入的函数和绑定的基础上构建。

## 数据集

为了处理数码数据块，我们首先得找到在机器内存中表示它们的方法。例如，我们想表示由数组 2、3、5、7和 11 组成的集合。

我们可以从字符串受到启发 —— 毕竟，字符串可以有任意长度，因此可以把大量数据塞给它们 —— 用 `"2 3 5 7 11"` 来表示。但这很不方便。你必须以某种方式提取出数码并将其转换回数字。

幸运的是，`JavaScript`提供了一种专门存储值序列的数据类型。它叫作 *数组*，写成包含在方括号中以逗号隔开的值的列表。

```js
let listOfNumbers = [2, 3, 5, 7, 11];
console.log(listOfNumbers[2]);
// → 5
console.log(listOfNumbers[0]);
// → 2
console.log(listOfNumbers[2 - 1]);
// → 3
```

获取数组中元素的记法，用的也是方括号。表达式后紧跟着一对方括号(其中是另一个表达式)，将会在左边表达式中查询对应于括号中表达式所给定的 *索引* 的元素。

数组的第一个索引是 0，而不是 1。因此，第一个元素用 `listOfNumbers[0]` 获取。基于 0 的计数在技术领域有着悠久的传统，在一定情况下很有道理，但是需要多多习惯。可以把索引想成：从数组开头数起，要略过的项的数量。

## 属性

在过去的章节中，我们看到过看似可疑的表达式，如 `myString.length` (获取字符串的长度) 和 `Math.max` (最大值函数)。这些是访问某些值 *属性* 的表达式。在第一种情况里，我们访问了值 `myString` 的 `length` 属性。在第二个中，我们访问了 `Math` 对象(一个数学相关的常量和函数的集合)的 `max` 方法。

几乎所有的`JavaScript`值都有属性。`null` 和 `undefined` 例外。如果你试着访问其中之一的属性，将报错。

```js
null.length;
// → TypeError: null has no properties
```

`JavaScript`中访问属性的 2 种典型方法是用点号和用方括号。`value.x` 和 `value[x]` 都会访问 `value` 的属性 —— 但不一定是同一个属性。区别在于 `x` 是如何解析的。当用点号时，点号后面的单词就是属性的字面名称。当用方括号时，括号中的表达式被求值以获得属性名称。`value.x` 获取的是 `value` 的名为 “x” 的属性，而 `value[x]` 会对 `x` 求值，并把这个结果作为属性名。

[chapter_picture_4]: ../assets/chapter_picture_4.jpg
