# 第二章、程序结构

本章开始，我们会进行真正的 *编程*。我们将加强对`JavaScript`语言的掌握，从目前我们所看到的词句碎片，直到我们可以写出有意义的散文。

## 表达式和语句

在[第一章][link_chapter_1]中，我们创造了值，并对其应用操作符以得到新的值。像这样创建值是任何`JavaScript`程序的基础。但是这个东西必须在一个更大的结构中才有用。这就是我们下一步要做的。

生成值的代码片段叫作 *表达式*。每一个字面量的值(比如 `22` 或 `"psychoanalysis"`)都是一个表达式。括号中的表达式也是一个表达式，对于二元操作符作用于 2 个表达式或一元操作符作用于 1 个的情况也是一样。

这展示了基于语言的接口的部分优点。表达式可以包含其他表达式，方式非常类似于人类语言中子句的嵌套：一个子句可以包含其自己的子句，以此类推。如此，我们就可以构建能描述任意复杂计算的表达式。

如果表达式对应句子片段，那么`JavaScript` *语句* 则对应于完整的句子。程序是一系列的语句。

最简单的语句，就是表达式后面接分号。这里是一个程序：

```js
1;
!false;
```

不过，这个程序没什么用。一个表达式的内容可以是仅仅生成一个值，这个值又被范围内的代码所用。一条语句是独立的，当它对这个世界有影响时才会起作用。它可以在屏幕上显示内容 —— 这就是所谓的“改变了世界” —— 或者它可以改变机器的内部状态，这会影响后续的语句。这些改变叫作 *副作用*。上述示例中的语句只是生成了值 `1` 和 `true`，随后立即扔掉这些值。这对世界没有任何影响。运行此程序，观察不到任何改变。

在某些情况下，`JavaScript`运行你省略语句后的分号。在其他情况下，则必须写上分号，否则下一行会被当作当前语句的一部分。何时可以安全地省略分号的规则稍微复杂且易错。所以，本书中每一条语句都会包含分号。我建议你也这么做，至少在你学习到更多关于省略分号的细微技巧之前。

## 绑定

一个程序如何持有内部状态？它怎么记录事物？我们已经看过如何从旧值生成新值，但是这并没有改变旧值，而且新值必须立即用掉(否则就又会消失)。为了获取并持有值，`JavaScript`提供了 *绑定* 或 *变量*。

```js
let caught = 5 * 5;
```

这是第二种语句。特殊字(*关键字*) `let` 表示本句将定义一个绑定。其后接着是绑定的名称，如果需要立即给它一个值，则再接上 `=` 操作符和一个表达式。

前面那条语句创建了一个叫 `caught` 的绑定，用它来获取并持有由 5 乘以 5 所生成的数字。

一个绑定定义之后，它的名称就可以作为表达式使用了。这样的表达式的值就是这个绑定当前所持有的值。例如：

```js
let ten = 10;
console.log(ten * ten);
// → 100
```

当一个绑定指向一个值时，并不意味着它和那个值永远捆绑在一起了。可以在任何时候用 `=` 操作符把它们与当前值解绑并使其指向一个新值。

```js
let mood = "light";
console.log(mood);
// → light
mood = "dark";
console.log(mood);
// → dark
```

[link_chapter_1]: ../Part_1_Language/01_values.md
